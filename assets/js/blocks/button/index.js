(()=>{var{__:o}=window.wp.i18n,{useBlockProps:_e,RichText:Te,InspectorControls:$e,PanelColorSettings:te,LinkControl:Be}=window.wp.blockEditor,{SelectControl:le,TabPanel:ne,ToggleControl:_,Spinner:Ne,__experimentalToggleGroupControl:ie,__experimentalToggleGroupControlOption:N}=window.wp.components,{useState:H,useEffect:ae}=window.wp.element,{useBlockId:He,getDimensionCSS:I}=digi.utils,{tabIcons:J}=digi.icons,{ResponsiveControl:P,DimensionControl:z,BoxShadowControl:Ie,TypographyControl:Pe,CustomTabPanel:ze,TabPanelBody:c,FontAwesomeControl:De}=digi.components,Me=({attributes:O,setAttributes:t,clientId:x,isSelected:K})=>{let{id:a,anchor:C,visibility:s,customClasses:T,text:$,url:h,opensInNewTab:v,rel:B,iconSource:f,customSvg:m,iconValue:i,iconPosition:S,size:d,fill:y,textColor:R,textHoverColor:L,backgroundColor:V,backgroundHoverColor:D,borderStyle:r,borderWidth:w,borderRadius:j,borderColor:Q,borderHoverColor:F,boxShadow:b,boxShadowHover:p,padding:E,margin:G,onlyIcon:W,buttonTypography:n}=O;He(a,x,t);let[g,de]=H(window.digi.responsiveState.activeDevice),[Ve,X]=H(!1),[Y,be]=H(()=>{if(window.digi.uiState){let e=window.digi.uiState.getActiveTab(x);if(e)return e}return"options"}),[U,pe]=H(!1),ge=e=>{t({iconValue:e})};ae(()=>{let e=()=>window.digi&&window.digi.components&&window.digi.components.FontAwesomeControl?(pe(!0),!0):!1;if(!e()){let l=setTimeout(()=>{e()&&clearTimeout(l)},500);return()=>clearTimeout(l)}},[]),ae(()=>window.digi.responsiveState.subscribe(l=>{de(l)}),[]);let ue=[{label:o("Default","digiblocks"),value:"default"},{label:o("None","digiblocks"),value:"none"},{label:o("Solid","digiblocks"),value:"solid"},{label:o("Dotted","digiblocks"),value:"dotted"},{label:o("Dashed","digiblocks"),value:"dashed"},{label:o("Double","digiblocks"),value:"double"},{label:o("Groove","digiblocks"),value:"groove"},{label:o("Inset","digiblocks"),value:"inset"},{label:o("Outset","digiblocks"),value:"outset"},{label:o("Ridge","digiblocks"),value:"ridge"}],me=[{label:o("Small","digiblocks"),value:"small"},{label:o("Medium","digiblocks"),value:"medium"},{label:o("Large","digiblocks"),value:"large"},{label:o("Custom","digiblocks"),value:"custom"}],fe=[{name:"options",title:o("Options","digiblocks"),icon:J.optionsIcon},{name:"style",title:o("Style","digiblocks"),icon:J.styleIcon},{name:"advanced",title:o("Advanced","digiblocks"),icon:J.advancedIcon}],Z=[{name:"normal",title:o("Normal","digiblocks"),className:"digiblocks-tab-1 normal"},{name:"hover",title:o("Hover","digiblocks"),className:"digiblocks-tab-2 hover"}],he=U?window.digi.components.FontAwesomeControl:null,ve=()=>{let e=g,l="";d==="custom"?l=I(E,"padding",e):d==="small"?l="padding: 8px 16px;":d==="large"?l="padding: 16px 32px;":l="padding: 12px 24px;";let k="";if(r&&r!=="default"&&r!=="none"){let we=I(w,"border-width",e)||"border-width: 1px 1px 1px 1px;";k=`
                border-style: ${r};
                border-color: ${Q};
                ${we}
            `}else k="border: none;";let A="";A=I(j,"border-radius",e);let ee="box-shadow: none;";b&&b.enable&&(ee=`box-shadow: ${b.position==="inset"?"inset ":""}${b.horizontal}px ${b.vertical}px ${b.blur}px ${b.spread}px ${b.color};`);let Se=I(G,"margin",e),oe="";if(p&&p.enable){let q=p.position==="inset"?"inset ":"";oe+=`box-shadow: ${q}${p.horizontal}px ${p.vertical}px ${p.blur}px ${p.spread}px ${p.color};`}let u="";return n&&(n.fontFamily&&(u+=`font-family: ${n.fontFamily};`),n.fontSize&&n.fontSize[e]&&(u+=`font-size: ${n.fontSize[e]}${n.fontSizeUnit||"px"};`),n.fontWeight&&(u+=`font-weight: ${n.fontWeight};`),n.fontStyle&&(u+=`font-style: ${n.fontStyle};`),n.textTransform&&(u+=`text-transform: ${n.textTransform};`),n.textDecoration&&(u+=`text-decoration: ${n.textDecoration};`),n.lineHeight&&n.lineHeight[e]&&(u+=`line-height: ${n.lineHeight[e]}${n.lineHeightUnit||"em"};`),n.letterSpacing&&n.letterSpacing[e]&&(u+=`letter-spacing: ${n.letterSpacing[e]}${n.letterSpacingUnit||"px"};`)),`
            /* Button Block - ${a} */
            .${a} {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                text-decoration: none;
                cursor: pointer;
                transition: all 0.3s ease;
                ${l}
                ${k}
                ${A}
                ${ee}
                ${Se}
                ${y?"width: 100%;":""}
                gap: 8px; /* Space between icon and text */
                ${V?`background-color: ${V};`:""}
                ${R?`color: ${R};`:""}
            }
            
            .${a}:hover {
                ${L?`color: ${L};`:""}
                ${D?`background-color: ${D};`:""}
                ${F?`border-color: ${F};`:""}
                ${oe}
            }
            
            /* Icon styles */
            .${a} .digiblocks-button-icon {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .${a} .digiblocks-button-icon svg {
                width: 1em;
                height: 1em;
                fill: currentColor;
            }
            
            /* Button typography */
            .${a} {
                ${u}
            }

			/* Visibility Controls */
			${s.desktop?`
				@media (min-width: 992px) {
					.${a} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${s.tablet?`
				@media (min-width: 768px) and (max-width: 991px) {
					.${a} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${s.mobile?`
				@media (max-width: 767px) {
					.${a} {
						opacity: 0.5 !important;
					}
				}
			`:""}
        `},ye=()=>f==="library"&&i&&i.svg&&i.svg.trim()!==""?wp.element.createElement("span",{key:"icon",className:"digiblocks-button-icon",dangerouslySetInnerHTML:{__html:i.svg}}):f==="custom"&&m&&m.trim()!==""?wp.element.createElement("span",{key:"icon",className:"digiblocks-button-icon",dangerouslySetInnerHTML:{__html:m}}):null,ke=()=>{let e=ye(),l=W?null:wp.element.createElement(Te,{key:"text",value:$,onChange:k=>t({text:k}),placeholder:o("Add text\u2026","digiblocks"),allowedFormats:[],withoutInteractiveFormatting:!0,identifier:"text"});return S==="left"?[e,l].filter(Boolean):[l,e].filter(Boolean)},xe=()=>{switch(Y){case"options":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(c,{tab:"options",name:"icon",title:o("Icon","digiblocks"),initialOpen:!0},wp.element.createElement("div",{style:{marginBottom:"2rem"}},wp.element.createElement(ie,{label:o("Icon Source","digiblocks"),value:f||"library",onChange:e=>t({iconSource:e}),isBlock:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},wp.element.createElement(N,{value:"library",label:o("Library","digiblocks")}),wp.element.createElement(N,{value:"custom",label:o("Custom","digiblocks")})),f==="library"&&wp.element.createElement(wp.element.Fragment,null,U?wp.element.createElement(he,{label:o("Select Icon","digiblocks"),value:i,onChange:ge}):wp.element.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},wp.element.createElement(Ne,null),wp.element.createElement("p",null,o("Loading icon selector...","digiblocks"))),i&&U&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("div",{style:{marginTop:"15px",marginBottom:"15px",padding:"10px",background:"#f0f0f1",borderRadius:"3px"}},wp.element.createElement("p",{style:{margin:"0 0 5px 0"}},wp.element.createElement("strong",null,o("Selected Icon:","digiblocks"))," ",i.name),wp.element.createElement("p",{style:{margin:"0 0 5px 0"}},wp.element.createElement("strong",null,o("Style:","digiblocks"))," ",i.style),i.categories&&i.categories.length>0&&wp.element.createElement("p",{style:{margin:"0"}},wp.element.createElement("strong",null,o("Categories:","digiblocks"))," ",i.categories.join(", "))))),f==="custom"&&wp.element.createElement("div",{style:{marginTop:"15px"}},wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"custom-svg-input"},o("Custom SVG Code","digiblocks")),wp.element.createElement("textarea",{id:"custom-svg-input",className:"components-textarea-control__input",value:m||"",onChange:e=>{let l=e.target.value;t({customSvg:l,iconValue:{id:"custom-svg",name:"Custom SVG",svg:l,style:"custom",categories:["custom"]}})},placeholder:o("Paste your SVG code here...","digiblocks"),rows:10,style:{width:"100%",marginTop:"8px"}}),wp.element.createElement("p",{className:"components-base-control__help"},o("Paste your SVG code here. Make sure it only contains valid SVG markup. For security reasons, scripts and external references will be removed.","digiblocks"))),m&&wp.element.createElement("div",{style:{marginTop:"15px",marginBottom:"15px"}},wp.element.createElement("p",null,wp.element.createElement("strong",null,o("Preview:","digiblocks"))),wp.element.createElement("div",{style:{padding:"20px",background:"#f0f0f1",borderRadius:"3px",display:"flex",justifyContent:"center",alignItems:"center"}},wp.element.createElement("div",{className:"digiblocks-custom-svg-preview",style:{width:"50px",height:"50px"},dangerouslySetInnerHTML:{__html:m}}))))),i&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(_,{label:o("Only Icon","digiblocks"),checked:W,onChange:e=>t({onlyIcon:e}),__nextHasNoMarginBottom:!0}),!W&&wp.element.createElement(ie,{label:o("Icon Position","digiblocks"),value:S,onChange:e=>t({iconPosition:e}),isBlock:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},wp.element.createElement(N,{value:"left",label:o("Left","digiblocks")}),wp.element.createElement(N,{value:"right",label:o("Right","digiblocks")})))),wp.element.createElement(c,{tab:"options",name:"link",title:o("Link","digiblocks"),initialOpen:!1},wp.element.createElement(Be,{value:h?{url:h,opensInNewTab:v,rel:B}:void 0,onChange:e=>{t({url:e.url,opensInNewTab:e.opensInNewTab,rel:e.rel||""}),X(!1)},settings:[{id:"opensInNewTab",title:o("Open in new tab")},{id:"rel",title:o("Add noopener noreferrer")}],onRemove:()=>{t({url:"",opensInNewTab:!1,rel:""}),X(!1)}})),wp.element.createElement(c,{tab:"options",name:"size",title:o("Size and Fill","digiblocks"),initialOpen:!1},wp.element.createElement(le,{label:o("Size","digiblocks"),value:d,options:me,onChange:e=>t({size:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(_,{label:o("Expand to Container Width","digiblocks"),checked:y,onChange:e=>t({fill:e}),__nextHasNoMarginBottom:!0})));case"style":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(c,{tab:"style",name:"typography",title:o("Typography","digiblocks"),initialOpen:!0},wp.element.createElement(Pe,{label:o("Button Typography","digiblocks"),value:n,onChange:e=>t({buttonTypography:e}),defaults:{fontSize:{desktop:"",tablet:"",mobile:""},fontSizeUnit:"px",lineHeight:{desktop:"",tablet:"",mobile:""},lineHeightUnit:"em"}})),wp.element.createElement(c,{tab:"style",name:"colors",title:o("Colors","digiblocks"),initialOpen:!0},wp.element.createElement(ne,{className:"digiblocks-control-tabs",activeClass:"active-tab",tabs:Z},e=>wp.element.createElement(te,{title:e.name==="normal"?o("Normal Colors","digiblocks"):o("Hover Colors","digiblocks"),initialOpen:!0,enableAlpha:!0,colorSettings:[{value:e.name==="normal"?R:L,onChange:l=>t(e.name==="normal"?{textColor:l}:{textHoverColor:l}),label:o("Text Color","digiblocks")},{value:e.name==="normal"?V:D,onChange:l=>t(e.name==="normal"?{backgroundColor:l}:{backgroundHoverColor:l}),label:o("Background Color","digiblocks")}]}))),d==="custom"&&wp.element.createElement(c,{tab:"style",name:"spacing",title:o("Spacing","digiblocks"),initialOpen:!1},wp.element.createElement(P,{label:o("Padding","digiblocks")},wp.element.createElement(z,{values:E[g],onChange:e=>t({padding:{...E,[g]:e}})}))),wp.element.createElement(c,{tab:"style",name:"margin",title:o("Margin","digiblocks"),initialOpen:!1},wp.element.createElement(P,{label:o("Margin","digiblocks")},wp.element.createElement(z,{values:G[g],onChange:e=>t({margin:{...G,[g]:e}})}))),wp.element.createElement(c,{tab:"style",name:"box-style",title:o("Box Style","digiblocks"),initialOpen:!1},wp.element.createElement(le,{label:o("Border Style","digiblocks"),value:r||"default",options:ue,onChange:e=>{e!=="default"&&e!=="none"&&(r==="default"||r==="none"||!r)&&(!w||Object.keys(w).length===0)&&t({borderWidth:{desktop:{top:1,right:1,bottom:1,left:1,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}}),t({borderStyle:e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),r&&r!=="default"&&r!=="none"&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(ne,{className:"digiblocks-control-tabs",activeClass:"active-tab",tabs:Z},e=>wp.element.createElement(te,{title:o("Border Colors","digiblocks"),enableAlpha:!0,colorSettings:[{value:e.name==="normal"?Q:F,onChange:l=>t(e.name==="normal"?{borderColor:l}:{borderHoverColor:l}),label:o("Border Color","digiblocks")}]})),wp.element.createElement(P,{label:o("Border Width","digiblocks")},wp.element.createElement(z,{values:w[g],onChange:e=>t({borderWidth:{...w,[g]:e}})}))),wp.element.createElement(P,{label:o("Border Radius","digiblocks")},wp.element.createElement(z,{values:j[g],onChange:e=>t({borderRadius:{...j,[g]:e}}),units:[{label:"px",value:"px"},{label:"%",value:"%"}]}))),wp.element.createElement(c,{tab:"style",name:"shadow",title:o("Box Shadow","digiblocks"),initialOpen:!1},wp.element.createElement(Ie,{normalValue:b,hoverValue:p,onNormalChange:e=>t({boxShadow:e}),onHoverChange:e=>t({boxShadowHover:e})})));case"advanced":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(c,{tab:"advanced",name:"visibility",title:o("Visibility","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control__help",style:{padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3ddfd",borderRadius:"4px",marginBottom:"16px"}},wp.element.createElement("strong",null,o("Editor Note:","digiblocks")),wp.element.createElement("br",null),o("Hidden elements appear with reduced opacity in the editor for easy editing. Visibility changes only take effect on the frontend.","digiblocks")),wp.element.createElement(_,{label:o("Hide on Desktop","digiblocks"),checked:s.desktop,onChange:e=>t({visibility:{...s,desktop:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(_,{label:o("Hide on Tablet","digiblocks"),checked:s.tablet,onChange:e=>t({visibility:{...s,tablet:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(_,{label:o("Hide on Mobile","digiblocks"),checked:s.mobile,onChange:e=>t({visibility:{...s,mobile:e}}),__nextHasNoMarginBottom:!0})),wp.element.createElement(c,{tab:"advanced",name:"additional",title:o("Additional","digiblocks"),initialOpen:!0},wp.element.createElement("div",{className:"components-base-control html-anchor-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"html-anchor"},o("HTML anchor","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"html-anchor",value:C||"",onChange:e=>t({anchor:e.target.value}),"aria-describedby":"html-anchor-help",autoCapitalize:"none",autoComplete:"off"})),wp.element.createElement("p",{id:"html-anchor-help",className:"components-base-control__help"},o(`Enter a word or two \u2014 without spaces \u2014 to make a unique web address just for this block, called an "anchor". Then, you'll be able to link directly to this section of your page.`,"digiblocks")," ",wp.element.createElement("a",{className:"components-external-link",href:"https://wordpress.org/documentation/article/page-jumps/",target:"_blank",rel:"external noreferrer noopener"},wp.element.createElement("span",{className:"components-external-link__contents"},o("Learn more about anchors","digiblocks")),wp.element.createElement("span",{className:"components-external-link__icon","aria-label":"(opens in a new tab)"},"\u2197")))),wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"additional-css-classes"},o("Additional CSS class(es)","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"additional-css-classes",value:T||"",onChange:e=>t({customClasses:e.target.value}),"aria-describedby":"additional-css-classes-help",autoComplete:"off"})),wp.element.createElement("p",{id:"additional-css-classes-help",className:"components-base-control__help"},o("Separate multiple classes with spaces.","digiblocks")))));default:return null}},Ce=_e({className:`digiblocks-button ${a} ${d} ${y?"is-fill":""} ${T||""}`,id:C||null});return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement($e,null,wp.element.createElement(ze,{tabs:fe,activeTab:Y,onSelect:be},xe())),wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:ve()}}),wp.element.createElement("div",{...Ce},ke()))},se=Me;var{useBlockProps:re,RichText:Oe}=window.wp.blockEditor,Re=({attributes:O})=>{let{id:t,anchor:x,customClasses:K,text:a,url:C,opensInNewTab:s,rel:T,iconSource:$,customSvg:h,iconValue:v,iconPosition:B,size:f,fill:m,onlyIcon:i}=O,S=["digiblocks-button",t,f,m?"is-fill":"",K||""].filter(Boolean).join(" "),d=()=>$==="library"&&v&&v.svg&&v.svg.trim()!==""?wp.element.createElement("span",{className:"digiblocks-button-icon",dangerouslySetInnerHTML:{__html:v.svg}}):$==="custom"&&h&&h.trim()!==""?wp.element.createElement("span",{className:"digiblocks-button-icon",dangerouslySetInnerHTML:{__html:h}}):null,y=wp.element.createElement(wp.element.Fragment,null,B==="left"&&d(),!i&&wp.element.createElement(Oe.Content,{value:a}),B==="right"&&d());return C?wp.element.createElement("a",{...re.save({className:S,id:x||null,href:C,target:s?"_blank":void 0,rel:T?"noopener noreferrer":void 0})},y):wp.element.createElement("div",{...re.save({className:S,id:x||null})},y)},ce=Re;var{__:M}=window.wp.i18n,{registerBlockType:Le}=window.wp.blocks;Le("digiblocks/button",{apiVersion:2,title:M("Button","digiblocks"),parent:["digiblocks/buttons"],icon:{src:()=>wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},wp.element.createElement("path",{d:"M19 6.5H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2zm0 9H5v-7h14v7z"}))},description:M("A single button within the buttons block","digiblocks"),supports:{inserter:!1,html:!1,className:!1,customClassName:!1,anchor:!1,reusable:!1},attributes:{id:{type:"string",default:""},anchor:{type:"string",default:""},visibility:{type:"object",default:{desktop:!1,tablet:!1,mobile:!1}},customClasses:{type:"string",default:""},text:{type:"string",default:M("Button","digiblocks")},url:{type:"string",default:""},opensInNewTab:{type:"boolean",default:!1},rel:{type:"boolean",default:!1},iconSource:{type:"string",default:"library"},customSvg:{type:"string",default:""},iconValue:{type:"object",default:null},iconPosition:{type:"string",default:"left"},size:{type:"string",default:"medium"},fill:{type:"boolean",default:!1},buttonTypography:{type:"object",default:{fontFamily:"",fontSize:{desktop:"",tablet:"",mobile:""},fontSizeUnit:"px",fontWeight:"",fontStyle:"normal",textTransform:"",textDecoration:"",lineHeight:{desktop:"",tablet:"",mobile:""},lineHeightUnit:"em",letterSpacing:{desktop:"",tablet:"",mobile:""},letterSpacingUnit:"px"}},textColor:{type:"string",default:"#ffffff"},textHoverColor:{type:"string",default:""},backgroundColor:{type:"string",default:"#1e73be"},backgroundHoverColor:{type:"string",default:""},borderStyle:{type:"string",default:"default"},borderWidth:{type:"object",default:{desktop:{top:1,right:1,bottom:1,left:1,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderRadius:{type:"object",default:{desktop:{top:"",right:"",bottom:"",left:"",unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderColor:{type:"string",default:""},borderHoverColor:{type:"string",default:""},boxShadow:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.2)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}},boxShadowHover:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.2)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}},padding:{type:"object",default:{desktop:{top:12,right:24,bottom:12,left:24,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},margin:{type:"object",default:{desktop:{top:"",right:"",bottom:"",left:"",unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},onlyIcon:{type:"boolean",default:!1}},example:{attributes:{text:M("Button","digiblocks"),backgroundColor:"#1e73be",textColor:"#ffffff"}},edit:se,save:ce});})();
