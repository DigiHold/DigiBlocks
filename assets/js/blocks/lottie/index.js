(()=>{var{__:t}=window.wp.i18n,{useBlockProps:it,InspectorControls:at,PanelColorSettings:nt}=window.wp.blockEditor,{TextControl:ve,ToggleControl:W,SelectControl:ie,RangeControl:Ee,Placeholder:rt,Spinner:kt,Button:U,RadioControl:st,__experimentalToggleGroupControl:he,__experimentalToggleGroupControlOption:X}=window.wp.components,{useState:Q,useEffect:Y,useRef:G}=window.wp.element,{MediaUpload:Ue,MediaUploadCheck:Xe}=window.wp.blockEditor,{useBlockId:dt,getDimensionCSS:ae,animations:ke,animationPreview:Ye}=digi.utils,{tabIcons:ye}=digi.icons,{ResponsiveRangeControl:ne,DimensionControl:re,BoxShadowControl:ct,CustomTabPanel:ut,TabPanelBody:f,TransformControl:pt}=digi.components,xe=!1,se=null,bt=()=>xe?Promise.resolve():se||(se=new Promise((z,o)=>{let $=digiBlocksData.lottie;if(!$){o(new Error("Lottie script URL not found in digiBlocksData"));return}let s=document.createElement("script");s.src=$,s.async=!0,s.onload=()=>{xe=!0,z()},s.onerror=()=>{o(new Error("Failed to load Lottie script from: "+$))},document.head.appendChild(s)}),se),ft=({attributes:z,setAttributes:o,clientId:$})=>{let{id:s,anchor:j,visibility:m,customClasses:A,lottieSource:c,sourceType:_,lottieFile:T,autoplay:B,loop:L,speed:R,width:M,height:x,alignment:ce,backgroundColor:ue,showControls:J,padding:we,margin:Ce,borderStyle:ee,borderWidth:Se,borderRadius:$e,borderColor:_e,boxShadow:N,boxShadowHover:w,animation:b,animationDuration:pe,animationDelay:be,position:q,horizontalOrientation:Te,horizontalOffset:h,verticalOrientation:Be,verticalOffset:k,zIndex:K,transform:fe,transformHover:O}=z;dt(s,$,o);let[g,We]=Q(window.digi.responsiveState.activeDevice),[Le,Ge]=Q(()=>{if(window.digi.uiState){let e=window.digi.uiState.getActiveTab($);if(e)return e}return"options"}),[je,D]=Q(!1),[Ne,V]=Q(null),[te,Je]=Q(xe),me=G(null),F=G(null),i=G(null),E=G(null),Oe=G(null),H=G(!0);Y(()=>window.digi.responsiveState.subscribe(l=>{We(l)}),[]),Y(()=>(H.current=!0,()=>{if(H.current=!1,i.current){try{i.current.pause(),i.current.destroy()}catch(e){console.warn("Error destroying animation during cleanup:",e)}i.current=null}window.lottieResizeObserver&&(window.lottieResizeObserver.disconnect(),window.lottieResizeObserver=null)}),[]),Y(()=>{te||(D(!0),bt().then(()=>{H.current&&(Je(!0),D(!1),c&&F.current&&oe())}).catch(e=>{H.current&&(V("Failed to load animation library: "+e.message),D(!1))}))},[]),Y(()=>{te&&c&&F.current&&oe()},[te,c,F.current]),Y(()=>{i.current&&(J&&!E.current?ge():!J&&E.current&&(E.current.remove(),E.current=null))},[J]);let oe=()=>{if(!(!window.DotLottie||!c||!F.current)){D(!0),V(null);try{i.current&&(i.current.destroy?.(),i.current=null),i.current=new window.DotLottie({autoplay:B,loop:L,canvas:F.current,src:c}),i.current.addEventListener("DOMLoaded",()=>{H.current&&(R!==1&&i.current.setSpeed(R),L||i.current.addEventListener("complete",()=>{i.current.pause(),i.current.goToFrame(0)}),B||(i.current.pause(),i.current.goToFrame(0)),D(!1),J&&ge())}),i.current.addEventListener("error",e=>{console.error("Animation failed to load:",e),H.current&&(V("Animation failed to load. Check the file or URL."),D(!1))}),setTimeout(()=>{H.current&&je&&D(!1)},3e3)}catch(e){console.error("Error initializing animation:",e),V("Failed to initialize animation: "+e.message),D(!1)}}},ht=()=>{setTimeout(()=>{H.current&&ge()},100)},ge=()=>{if(!me.current||!i.current)return;E.current&&E.current.remove();let e=document.createElement("div");e.className="digiblocks-lottie-controls",e.style.position="absolute",e.style.bottom="10px",e.style.left="0",e.style.right="0",e.style.display="flex",e.style.justifyContent="center",e.style.zIndex="10";let l=document.createElement("button");l.className="digiblocks-lottie-play-pause";let r=B;l.innerHTML=r?"\u23F8\uFE0F":"\u25B6\uFE0F",l.style.background="rgba(0,0,0,0.3)",l.style.color="white",l.style.border="none",l.style.borderRadius="4px",l.style.padding="5px 10px",l.style.cursor="pointer",l.addEventListener("click",()=>{i.current&&(r?(i.current.pause(),l.innerHTML="\u25B6\uFE0F"):(i.current.play(),l.innerHTML="\u23F8\uFE0F"),r=!r)}),e.appendChild(l),me.current.appendChild(e),E.current=e};Y(()=>{if(!(!i.current||!i.current.isLoaded))try{i.current.setLoop(L),i.current.setSpeed(R),B?i.current.play():(i.current.pause(),i.current.goToFrame(0)),L||(i.current.removeEventListener("complete"),i.current.addEventListener("complete",()=>{i.current.pause(),i.current.goToFrame(0)}))}catch(e){console.error("Error updating animation settings:",e)}},[B,L,R]);let De=e=>{!e||!e.url||o({lottieSource:e.url,lottieFile:e,sourceType:"file"})},He=e=>{o({lottieSource:e,sourceType:"url"})},Pe=()=>{if(!c){V("Please enter a valid URL");return}if(!te){V("Animation library is still loading. Please wait a moment.");return}oe()};Y(()=>{if(b&&b!=="none"){let e=setTimeout(()=>{Ye(s,b,ke,Oe,pe,be)},100);return()=>clearTimeout(e)}},[b]);let qe=()=>{Ye(s,b,ke,Oe,pe,be)},le=(e,l)=>{if(!e||typeof e!="object")return null;let r=d=>d===""||d===void 0||d===null?!0:typeof d=="object"&&d!==null?d.value===""||d.value===void 0||d.value===null:!1;return l==="mobile"?r(e.mobile)?r(e.tablet)?typeof e.desktop=="object"?`${e.desktop.value}${e.desktop.unit}`:e.desktop:typeof e.tablet=="object"?`${e.tablet.value}${e.tablet.unit}`:e.tablet:typeof e.mobile=="object"?`${e.mobile.value}${e.mobile.unit}`:e.mobile:l==="tablet"?r(e.tablet)?typeof e.desktop=="object"?`${e.desktop.value}${e.desktop.unit}`:e.desktop:typeof e.tablet=="object"?`${e.tablet.value}${e.tablet.unit}`:e.tablet:typeof e.desktop=="object"?`${e.desktop.value}${e.desktop.unit}`:e.desktop},ze=e=>{switch(e){case"%":return 100;case"em":case"rem":return 50;case"vw":case"vh":return 100;default:return 2e3}},Re=e=>{switch(e){case"%":case"vw":case"vh":return 1;case"em":case"rem":return .1;default:return 1}},Me=(e,l)=>{let r={left:"0%",center:"50%",right:"100%"},d={top:"0%",center:"50%",bottom:"100%"},y=r[e.xAnchor?.[l]||"center"],p=d[e.yAnchor?.[l]||"center"];return`${y} ${p}`},Ve=(e,l)=>{if(!e)return"";let r=[],d=n=>{if(!n)return"";let a=n[l],S=v=>v===""||v===void 0||v===null?!0:typeof v=="object"&&v!==null?v.value===""||v.value===void 0||v.value===null:!1;return l==="tablet"&&S(a)&&(a=n.desktop),l==="mobile"&&S(a)&&(a=n.tablet,S(a)&&(a=n.desktop)),typeof a=="object"&&a!==null?a.value!==void 0?a.value:"":a},y=d(e.rotate);if(y!==""&&y!==void 0&&y!==null){if(e.rotate3d){let n=d(e.perspective);n!==""&&n!==void 0&&n!==null&&r.push(`perspective(${n}px)`)}r.push(`rotate(${y}deg)`)}if(e.rotate3d){let n=d(e.rotateX);n!==""&&n!==void 0&&n!==null&&r.push(`rotateX(${n}deg)`);let a=d(e.rotateY);a!==""&&a!==void 0&&a!==null&&r.push(`rotateY(${a}deg)`)}let p=e.offsetX?.[l]?.value,C=e.offsetY?.[l]?.value,Z=p!==""&&p!==void 0&&p!==null,I=C!==""&&C!==void 0&&C!==null;if(Z||I){let n=Z?`${p}${e.offsetX[l].unit||"px"}`:"0",a=I?`${C}${e.offsetY[l].unit||"px"}`:"0";r.push(`translate(${n}, ${a})`)}if(e.keepProportions){let n=d(e.scale);n!==""&&n!==void 0&&n!==null&&n!=1&&r.push(`scale(${n})`)}else{let n=d(e.scaleX),a=d(e.scaleY),S=n!==""&&n!==void 0&&n!==null?n:1,v=a!==""&&a!==void 0&&a!==null?a:1;(S!=1||v!=1)&&r.push(`scale(${S}, ${v})`)}let P=d(e.skewX);P!==""&&P!==void 0&&P!==null&&r.push(`skewX(${P}deg)`);let u=d(e.skewY);return u!==""&&u!==void 0&&u!==null&&r.push(`skewY(${u}deg)`),e.flipHorizontal&&r.push("scaleX(-1)"),e.flipVertical&&r.push("scaleY(-1)"),r.length>0?r.join(" "):""},Ke=()=>{let e=g,l=le(M,e),r=le(x,e);widthCSS=l?`width: ${l};`:"",heightCSS=r?`height: ${r};`:"";let d="";N&&N.enable&&(d=`box-shadow: ${N.horizontal}px ${N.vertical}px ${N.blur}px ${N.spread}px ${N.color};`);let y="";w&&w.enable&&(y=`box-shadow: ${w.position==="inset"?"inset ":""}${w.horizontal}px ${w.vertical}px ${w.blur}px ${w.spread}px ${w.color};`);let p="";if(q&&q!=="default"){p+=`position: ${q} !important;`;let u=h?.[e]?.value,n=h?.[e]?.unit||"px";(u===""||u===void 0)&&(e==="tablet"?u=h?.desktop?.value:e==="mobile"&&(u=h?.tablet?.value!==""&&h?.tablet?.value!==void 0?h?.tablet?.value:h?.desktop?.value)),u!==""&&u!==void 0&&(Te==="left"?p+=`left: ${u}${n};`:p+=`right: ${u}${n};`);let a=k?.[e]?.value,S=k?.[e]?.unit||"px";(a===""||a===void 0)&&(e==="tablet"?a=k?.desktop?.value:e==="mobile"&&(a=k?.tablet?.value!==""&&k?.tablet?.value!==void 0?k?.tablet?.value:k?.desktop?.value)),a!==""&&a!==void 0&&(Be==="top"?p+=`top: ${a}${S};`:p+=`bottom: ${a}${S};`)}K!==""&&K!==void 0&&K!==null&&(p+=`z-index: ${K};`);let C="",Z=Ve(fe,e);Z&&(C+=`transform: ${Z};`,C+=`transform-origin: ${Me(fe,e)};`);let I=Ve(O,e);if(I&&O&&O.transitionDuration!==""&&O.transitionDuration!==void 0&&O.transitionDuration!==null){let u=O.transitionDuration;C+=`transition: transform ${u}ms ease;`}let P="";return I&&(P+=`transform: ${I};`,P+=`transform-origin: ${Me(O,e)};`),`
            /* Lottie Block - ${s} */
            .${s} {
				${ae(we,"padding",e)}
				${ae(Ce,"margin",e)}
                width: 100%;
                display: flex;
                justify-content: ${ce==="left"?"flex-start":ce==="right"?"flex-end":"center"};
                ${p}
				${C}
            }

            .${s}:hover {
                ${y}
				${P}
            }
            
            .${s} .digiblocks-lottie-container {
                ${widthCSS}
                ${heightCSS}
                ${ue?`background-color: ${ue};`:""}
                overflow: hidden;
                position: relative;
                ${ee!=="none"?`
					border-style: ${ee};
					border-color: ${_e};
					${ae(Se,"border-width",e)}
                `:""}
				${ae($e,"border-radius",e)}
                ${d}
				transition: all 0.3s ease;
            }
            
            .${s} .digiblocks-lottie-container:hover {
                ${y}
            }
            
            .${s} canvas {
                width: 100%;
                height: 100%;
            }
            
            .${s} .digiblocks-lottie-error {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }
            
            .${s} .digiblocks-lottie-error {
                color: #cc1818;
                max-width: 90%;
                padding: 10px;
            }

			/* Visibility Controls */
			${m.desktop?`
				@media (min-width: 992px) {
					.${s} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${m.tablet?`
				@media (min-width: 768px) and (max-width: 991px) {
					.${s} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${m.mobile?`
				@media (max-width: 767px) {
					.${s} {
						opacity: 0.5 !important;
					}
				}
			`:""}
        `},Ze=[{label:t("None","digiblocks"),value:"none"},...Object.keys(ke).map(e=>({label:e.replace(/-/g," ").replace(/\b\w/g,l=>l.toUpperCase()),value:e}))],Qe=[{label:t("None","digiblocks"),value:"none"},{label:t("Solid","digiblocks"),value:"solid"},{label:t("Dashed","digiblocks"),value:"dashed"},{label:t("Dotted","digiblocks"),value:"dotted"},{label:t("Double","digiblocks"),value:"double"}],Ae=[{name:"options",title:t("Options","digiblocks"),icon:ye.optionsIcon},{name:"style",title:t("Style","digiblocks"),icon:ye.styleIcon},{name:"advanced",title:t("Advanced","digiblocks"),icon:ye.advancedIcon}],et=()=>{switch(Le){case"options":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(f,{tab:"options",name:"source",title:t("Source","digiblocks"),initialOpen:!0},wp.element.createElement(st,{label:t("Source Type","digiblocks"),selected:_,options:[{label:t("File","digiblocks"),value:"file"},{label:t("URL","digiblocks"),value:"url"}],onChange:e=>o({sourceType:e})}),_==="file"&&wp.element.createElement(Xe,null,wp.element.createElement("div",{style:{marginTop:"12px"}},wp.element.createElement(Ue,{onSelect:De,allowedTypes:["application/json","text/plain","application/octet-stream"],value:T?.id||0,render:({open:e})=>wp.element.createElement("div",null,wp.element.createElement(U,{variant:"secondary",onClick:e,style:{marginBottom:"8px",width:"100%"}},t(c?"Replace Lottie File":"Upload Lottie File","digiblocks")),c&&wp.element.createElement("div",{className:"digiblocks-lottie-file-name",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"8px"}},T?.filename||c.split("/").pop()))}))),_==="url"&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(ve,{label:t("Lottie URL","digiblocks"),value:c,onChange:He,placeholder:"https://example.com/animation.json",help:t("Enter the URL to a JSON Lottie animation file","digiblocks"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(U,{variant:"secondary",onClick:Pe,style:{marginTop:"8px"},disabled:!c},t("Load Animation","digiblocks")))),wp.element.createElement(f,{tab:"options",name:"animation",title:t("Animation","digiblocks"),initialOpen:!1},wp.element.createElement(W,{label:t("Autoplay","digiblocks"),checked:B,onChange:e=>o({autoplay:e}),help:t("Automatically start the animation when the page loads","digiblocks"),__nextHasNoMarginBottom:!0}),wp.element.createElement(W,{label:t("Loop","digiblocks"),checked:L,onChange:e=>o({loop:e}),help:t("Repeat the animation indefinitely","digiblocks"),__nextHasNoMarginBottom:!0}),wp.element.createElement(Ee,{label:t("Animation Speed","digiblocks"),value:R,onChange:e=>o({speed:e}),min:.1,max:3,step:.1,help:t("1 = normal speed, 2 = double speed, 0.5 = half speed","digiblocks"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(W,{label:t("Show Controls","digiblocks"),checked:J,onChange:e=>o({showControls:e}),help:t("Display play/pause control","digiblocks"),__nextHasNoMarginBottom:!0})),wp.element.createElement(f,{tab:"options",name:"dimensions",title:t("Dimensions","digiblocks"),initialOpen:!1},wp.element.createElement(ne,{label:t("Width","digiblocks"),value:M,onChange:e=>o({width:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"vw",value:"vw"}],defaultValues:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}},min:0,max:M?.[g]?.unit==="%"||M?.[g]?.unit==="vw"?100:1e3,step:1}),wp.element.createElement(ne,{label:t("Height","digiblocks"),value:x,onChange:e=>o({height:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"vh",value:"vh"}],defaultValues:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}},min:0,max:x?.[g]?.unit==="%"||x?.[g]?.unit==="vh"?100:1e3,step:1}),wp.element.createElement(he,{label:t("Alignment","digiblocks"),value:ce,onChange:e=>o({alignment:e}),isBlock:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},wp.element.createElement(X,{value:"left",label:t("Left","digiblocks")}),wp.element.createElement(X,{value:"center",label:t("Center","digiblocks")}),wp.element.createElement(X,{value:"right",label:t("Right","digiblocks")}))));case"style":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(f,{tab:"style",name:"colors",title:t("Colors","digiblocks"),initialOpen:!0},wp.element.createElement(nt,{title:t("Colors","digiblocks"),initialOpen:!0,enableAlpha:!0,colorSettings:[{value:ue,onChange:e=>o({backgroundColor:e}),label:t("Background Color","digiblocks")},{value:_e,onChange:e=>o({borderColor:e}),label:t("Border Color","digiblocks")}]})),wp.element.createElement(f,{tab:"style",name:"borders",title:t("Borders & Radius","digiblocks"),initialOpen:!1},wp.element.createElement(ie,{label:t("Border Style","digiblocks"),value:ee,options:Qe,onChange:e=>o({borderStyle:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),ee!=="none"&&wp.element.createElement(re,{label:t("Border Width","digiblocks"),value:Se,onChange:e=>o({borderWidth:e})}),wp.element.createElement(re,{label:t("Border Radius","digiblocks"),value:$e,onChange:e=>o({borderRadius:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"}]})),wp.element.createElement(f,{tab:"style",name:"shadow",title:t("Box Shadow","digiblocks"),initialOpen:!1},wp.element.createElement(ct,{normalValue:N,hoverValue:w,onNormalChange:e=>o({boxShadow:e}),onHoverChange:e=>o({boxShadowHover:e})})));case"advanced":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(f,{tab:"advanced",name:"spacing",title:t("Spacing","digiblocks"),initialOpen:!0},wp.element.createElement(re,{label:t("Padding","digiblocks"),value:we,onChange:e=>o({padding:e})}),wp.element.createElement(re,{label:t("Margin","digiblocks"),value:Ce,onChange:e=>o({margin:e})})),wp.element.createElement(f,{tab:"advanced",name:"position",title:t("Position","digiblocks"),initialOpen:!1},wp.element.createElement(ie,{label:t("Position","digiblocks"),value:q,options:[{label:t("Default","digiblocks"),value:"default"},{label:t("Relative","digiblocks"),value:"relative"},{label:t("Absolute","digiblocks"),value:"absolute"},{label:t("Fixed","digiblocks"),value:"fixed"}],onChange:e=>o({position:e}),__nextHasNoMarginBottom:!0}),q!=="default"&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(he,{label:t("Horizontal Orientation","digiblocks"),value:Te,isBlock:!0,onChange:e=>o({horizontalOrientation:e}),__nextHasNoMarginBottom:!0},wp.element.createElement(X,{value:"left",label:t("Left","digiblocks")}),wp.element.createElement(X,{value:"right",label:t("Right","digiblocks")})),wp.element.createElement(ne,{label:t("Offset","digiblocks"),value:h,onChange:e=>o({horizontalOffset:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"em",value:"em"},{label:"rem",value:"rem"},{label:"vw",value:"vw"},{label:"vh",value:"vh"}],defaultUnit:"px",min:0,max:ze(h?.[g]?.unit||"px"),step:Re(h?.[g]?.unit||"px")}),wp.element.createElement(he,{label:t("Vertical Orientation","digiblocks"),value:Be,isBlock:!0,onChange:e=>o({verticalOrientation:e}),__nextHasNoMarginBottom:!0},wp.element.createElement(X,{value:"top",label:t("Top","digiblocks")}),wp.element.createElement(X,{value:"bottom",label:t("Bottom","digiblocks")})),wp.element.createElement(ne,{label:t("Offset","digiblocks"),value:k,onChange:e=>o({verticalOffset:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"em",value:"em"},{label:"rem",value:"rem"},{label:"vw",value:"vw"},{label:"vh",value:"vh"}],defaultUnit:"px",min:0,max:ze(k?.[g]?.unit||"px"),step:Re(k?.[g]?.unit||"px")})),wp.element.createElement(Ee,{label:t("Z-Index","digiblocks"),value:K,onChange:e=>o({zIndex:e}),min:-999,max:9999,allowReset:!0,__nextHasNoMarginBottom:!0})),wp.element.createElement(f,{tab:"advanced",name:"transform",title:t("Transform","digiblocks"),initialOpen:!1},wp.element.createElement(pt,{normalValue:fe,hoverValue:O,onNormalChange:e=>o({transform:e}),onHoverChange:e=>o({transformHover:e})})),wp.element.createElement(f,{tab:"advanced",name:"animation",title:t("Animation","digiblocks"),initialOpen:!1},wp.element.createElement(ie,{label:t("Animation Effect","digiblocks"),value:b,options:Ze,onChange:e=>o({animation:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),b&&b!=="none"&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(ie,{label:t("Animation Duration","digiblocks"),value:pe,options:[{label:t("Slow","digiblocks"),value:"slow"},{label:t("Normal","digiblocks"),value:"normal"},{label:t("Fast","digiblocks"),value:"fast"}],onChange:e=>o({animationDuration:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(ve,{label:t("Animation Delay (ms)","digiblocks"),value:be||0,onChange:e=>o({animationDelay:parseInt(e)||0}),type:"number",min:0,step:100,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),b&&b!=="none"&&wp.element.createElement("div",{style:{marginTop:"10px"}},wp.element.createElement(U,{variant:"secondary",isSecondary:!0,onClick:qe,style:{width:"100%"}},t("Preview Animation","digiblocks")))),wp.element.createElement(f,{tab:"advanced",name:"visibility",title:t("Visibility","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control__help",style:{padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3ddfd",borderRadius:"4px",marginBottom:"16px"}},wp.element.createElement("strong",null,t("Editor Note:","digiblocks")),wp.element.createElement("br",null),t("Hidden elements appear with reduced opacity in the editor for easy editing. Visibility changes only take effect on the frontend.","digiblocks")),wp.element.createElement(W,{label:t("Hide on Desktop","digiblocks"),checked:m.desktop,onChange:e=>o({visibility:{...m,desktop:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(W,{label:t("Hide on Tablet","digiblocks"),checked:m.tablet,onChange:e=>o({visibility:{...m,tablet:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(W,{label:t("Hide on Mobile","digiblocks"),checked:m.mobile,onChange:e=>o({visibility:{...m,mobile:e}}),__nextHasNoMarginBottom:!0})),wp.element.createElement(f,{tab:"advanced",name:"additional",title:t("Additional","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control html-anchor-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"html-anchor"},t("HTML anchor","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"html-anchor",value:j||"",onChange:e=>o({anchor:e.target.value}),"aria-describedby":"html-anchor-help",autoCapitalize:"none",autoComplete:"off"})),wp.element.createElement("p",{id:"html-anchor-help",className:"components-base-control__help"},t(`Enter a word or two \u2014 without spaces \u2014 to make a unique web address just for this block, called an "anchor". Then, you'll be able to link directly to this section of your page.`,"digiblocks")," ",wp.element.createElement("a",{className:"components-external-link",href:"https://wordpress.org/documentation/article/page-jumps/",target:"_blank",rel:"external noreferrer noopener"},wp.element.createElement("span",{className:"components-external-link__contents"},t("Learn more about anchors","digiblocks")),wp.element.createElement("span",{className:"components-external-link__icon","aria-label":"(opens in a new tab)"},"\u2197")))),wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"additional-css-classes"},t("Additional CSS class(es)","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"additional-css-classes",value:A||"",onChange:e=>o({customClasses:e.target.value}),"aria-describedby":"additional-css-classes-help",autoComplete:"off"})),wp.element.createElement("p",{id:"additional-css-classes-help",className:"components-base-control__help"},t("Separate multiple classes with spaces.","digiblocks")))));default:return null}},tt=`digiblocks-lottie ${s} ${A||""}`,ot=b&&b!=="none"?` animate-${b}`:"",lt=it({className:tt+ot,id:j||null});return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(at,null,wp.element.createElement(ut,{tabs:Ae,activeTab:Le,onSelect:Ge},et())),wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:Ke()}}),wp.element.createElement("div",{...lt},c?wp.element.createElement("div",{className:"digiblocks-lottie-container",ref:me,style:{width:le(M,g)||"300px",height:le(x,g)||"300px",position:"relative"}},wp.element.createElement("canvas",{ref:F,style:{width:"100%",height:"100%",display:"block"}}),Ne&&wp.element.createElement("div",{className:"digiblocks-lottie-error",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#cc1818",maxWidth:"90%",padding:"10px"}},wp.element.createElement("p",null,Ne),wp.element.createElement(U,{variant:"secondary",onClick:()=>{V(null),oe()}},t("Try Again","digiblocks")))):wp.element.createElement(rt,{icon:"format-image",label:t("Lottie Animation","digiblocks"),instructions:t("Upload a Lottie animation file or provide a URL to a Lottie JSON file.","digiblocks")},_==="file"?wp.element.createElement(Xe,null,wp.element.createElement(Ue,{onSelect:De,allowedTypes:["application/json","text/plain","application/octet-stream"],render:({open:e})=>wp.element.createElement(U,{variant:"primary",onClick:e},t("Upload Lottie File","digiblocks"))})):wp.element.createElement("div",{style:{width:"100%",maxWidth:"400px"}},wp.element.createElement(ve,{placeholder:t("Enter Lottie JSON URL","digiblocks"),value:c,onChange:He,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(U,{variant:"primary",onClick:Pe,style:{marginTop:"10px"},disabled:!c},t("Load Animation","digiblocks"))),wp.element.createElement("div",{style:{marginTop:"12px",display:"flex",justifyContent:"center"}},wp.element.createElement(U,{variant:"link",onClick:()=>o({sourceType:_==="file"?"url":"file"})},t(_==="file"?"Or use URL instead":"Or upload a file instead","digiblocks"))))))},Fe=ft;var{__:xt}=window.wp.i18n,{useBlockProps:mt}=window.wp.blockEditor,gt=({attributes:z})=>{let{id:o,anchor:$,customClasses:s,lottieSource:j,autoplay:m,loop:A,speed:c,showControls:_,animation:T,animationDuration:B,animationDelay:L}=z;if(!j)return null;let R=`digiblocks-lottie ${o} ${s||""}`,M=T&&T!=="none"?` animate-${T} digi-animate-hidden`:"",x=mt.save({className:R+M,id:$||void 0});return T&&T!=="none"&&(x["data-animation-duration"]=B||"normal",x["data-animation-delay"]=L||0),wp.element.createElement("div",{...x},wp.element.createElement("div",{className:"digiblocks-lottie-container","data-src":j,"data-autoplay":m.toString(),"data-loop":A.toString(),"data-speed":c.toString(),"data-controls":_.toString()},wp.element.createElement("canvas",{width:"100%",height:"100%",style:{width:"100%",height:"100%",display:"block"}})))},Ie=gt;var{__:de}=window.wp.i18n,{registerBlockType:vt}=window.wp.blocks;vt("digiblocks/lottie",{apiVersion:2,title:digiBlocksData.blocks.lottie.title,category:"digiblocks",icon:{src:()=>{let{viewbox:z,path:o}=digiBlocksData.blocks.lottie.icon;return wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${z}`,className:"digiblocks-editor-icons"},wp.element.createElement("path",{d:o}))}},description:digiBlocksData.blocks.lottie.description,keywords:[de("lottie","digiblocks"),de("animation","digiblocks"),de("dotlottie","digiblocks"),de("motion","digiblocks")],supports:{html:!1,className:!1,customClassName:!1,anchor:!1},attributes:{id:{type:"string",default:""},anchor:{type:"string",default:""},visibility:{type:"object",default:{desktop:!1,tablet:!1,mobile:!1}},customClasses:{type:"string",default:""},lottieSource:{type:"string",default:""},sourceType:{type:"string",default:"file"},lottieFile:{type:"object",default:null},autoplay:{type:"boolean",default:!0},loop:{type:"boolean",default:!0},speed:{type:"number",default:1},width:{type:"object",default:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}}},height:{type:"object",default:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}}},heightUnit:{type:"string",default:"px"},alignment:{type:"string",default:"center"},backgroundColor:{type:"string",default:""},showControls:{type:"boolean",default:!1},padding:{type:"object",default:{desktop:{top:"",right:"",bottom:"",left:"",unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},margin:{type:"object",default:{desktop:{top:"",right:"",bottom:"",left:"",unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderStyle:{type:"string",default:"none"},borderWidth:{type:"object",default:{desktop:{top:1,right:1,bottom:1,left:1,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderRadius:{type:"object",default:{desktop:{top:"",right:"",bottom:"",left:"",unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderColor:{type:"string",default:"#e0e0e0"},boxShadow:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.1)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}},boxShadowHover:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.2)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}},animation:{type:"string",default:"none"},animationDuration:{type:"string",default:"normal"},animationDelay:{type:"number",default:""},position:{type:"string",default:"default"},horizontalOrientation:{type:"string",default:"left"},horizontalOffset:{type:"object",default:{desktop:{value:0,unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}}},verticalOrientation:{type:"string",default:"top"},verticalOffset:{type:"object",default:{desktop:{value:0,unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}}},zIndex:{type:"number",default:""},transform:{type:"object",default:{rotate:{desktop:"",tablet:"",mobile:""},rotate3d:!1,rotateX:{desktop:"",tablet:"",mobile:""},rotateY:{desktop:"",tablet:"",mobile:""},perspective:{desktop:"",tablet:"",mobile:""},offsetX:{desktop:{value:"",unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}},offsetY:{desktop:{value:"",unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}},keepProportions:!0,scale:{desktop:"",tablet:"",mobile:""},scaleX:{desktop:"",tablet:"",mobile:""},scaleY:{desktop:"",tablet:"",mobile:""},skewX:{desktop:"",tablet:"",mobile:""},skewY:{desktop:"",tablet:"",mobile:""},flipHorizontal:!1,flipVertical:!1,xAnchor:{desktop:"center",tablet:"",mobile:""},yAnchor:{desktop:"center",tablet:"",mobile:""},transitionDuration:""}},transformHover:{type:"object",default:{rotate:{desktop:"",tablet:"",mobile:""},rotate3d:!1,rotateX:{desktop:"",tablet:"",mobile:""},rotateY:{desktop:"",tablet:"",mobile:""},perspective:{desktop:"",tablet:"",mobile:""},offsetX:{desktop:{value:"",unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}},offsetY:{desktop:{value:"",unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}},keepProportions:!0,scale:{desktop:"",tablet:"",mobile:""},scaleX:{desktop:"",tablet:"",mobile:""},scaleY:{desktop:"",tablet:"",mobile:""},skewX:{desktop:"",tablet:"",mobile:""},skewY:{desktop:"",tablet:"",mobile:""},flipHorizontal:!1,flipVertical:!1,xAnchor:{desktop:"center",tablet:"",mobile:""},yAnchor:{desktop:"center",tablet:"",mobile:""},transitionDuration:""}}},example:{attributes:{lottieSource:"https://lottie.host/74c2e0cc-daa3-4269-b9a8-3205d6cd70d6/V7KchLpRt2.lottie",autoplay:!0,loop:!0,width:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}},height:{desktop:{value:300,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}}}},edit:Fe,save:Ie});})();
