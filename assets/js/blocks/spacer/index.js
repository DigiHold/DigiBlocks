(()=>{var{__:o}=window.wp.i18n,{useBlockProps:W,InspectorControls:Z}=window.wp.blockEditor,{ToggleControl:V,RangeControl:ce}=window.wp.components,{useState:M,useEffect:j}=window.wp.element,{useBlockId:ee}=digi.utils,{tabIcons:E}=digi.icons,{ResponsiveRangeControl:te,CustomTabPanel:ne,TabPanelBody:ie}=digi.components,se=({attributes:k,setAttributes:l,clientId:$})=>{let{id:c,anchor:C,visibility:r,customClasses:x,height:y,position:S,horizontalOrientation:I,horizontalOffset:B,verticalOrientation:L,verticalOffset:H,zIndex:_,transform:X,transformHover:g}=k;ee(c,$,l);let[N,R]=M(window.digi.responsiveState.activeDevice);j(()=>window.digi.responsiveState.subscribe(s=>{R(s)}),[]);let[Y,A]=M(()=>{if(window.digi.uiState){let e=window.digi.uiState.getActiveTab($);if(e)return e}return"options"}),F=[{name:"options",title:o("Options","digiblocks"),icon:E.optionsIcon},{name:"advanced",title:o("Advanced","digiblocks"),icon:E.advancedIcon}],q=(e,s)=>{if(!e)return"";let t=e[s];if(t&&t.value!==""&&t.value!==void 0&&t.value!==null)return`${t.value}${t.unit||"px"}`;if(s==="tablet"&&e.desktop)return e.desktop.value!==""&&e.desktop.value!==void 0&&e.desktop.value!==null?`${e.desktop.value}${e.desktop.unit||"px"}`:"";if(s==="mobile"){if(e.tablet&&e.tablet.value!==""&&e.tablet.value!==void 0&&e.tablet.value!==null)return`${e.tablet.value}${e.tablet.unit||"px"}`;if(e.desktop)return e.desktop.value!==""&&e.desktop.value!==void 0&&e.desktop.value!==null?`${e.desktop.value}${e.desktop.unit||"px"}`:""}return""},U=e=>{switch(e){case"%":return 100;case"em":case"rem":return 50;case"vw":case"vh":return 100;default:return 2e3}},G=e=>{switch(e){case"%":case"vw":case"vh":return 1;case"em":case"rem":return .1;default:return 1}},D=(e,s)=>{let t={left:"0%",center:"50%",right:"100%"},a={top:"0%",center:"50%",bottom:"100%"},p=t[e.xAnchor?.[s]||"center"],u=a[e.yAnchor?.[s]||"center"];return`${p} ${u}`},z=(e,s)=>{if(!e)return"";let t=[],a=n=>{if(!n)return"";let i=n[s],h=d=>d===""||d===void 0||d===null?!0:typeof d=="object"&&d!==null?d.value===""||d.value===void 0||d.value===null:!1;return s==="tablet"&&h(i)&&(i=n.desktop),s==="mobile"&&h(i)&&(i=n.tablet,h(i)&&(i=n.desktop)),typeof i=="object"&&i!==null?i.value!==void 0?i.value:"":i},p=a(e.rotate);if(p!==""&&p!==void 0&&p!==null){if(e.rotate3d){let n=a(e.perspective);n!==""&&n!==void 0&&n!==null&&t.push(`perspective(${n}px)`)}t.push(`rotate(${p}deg)`)}if(e.rotate3d){let n=a(e.rotateX);n!==""&&n!==void 0&&n!==null&&t.push(`rotateX(${n}deg)`);let i=a(e.rotateY);i!==""&&i!==void 0&&i!==null&&t.push(`rotateY(${i}deg)`)}let u=e.offsetX?.[s]?.value,m=e.offsetY?.[s]?.value,f=u!==""&&u!==void 0&&u!==null,w=m!==""&&m!==void 0&&m!==null;if(f||w){let n=f?`${u}${e.offsetX[s].unit||"px"}`:"0",i=w?`${m}${e.offsetY[s].unit||"px"}`:"0";t.push(`translate(${n}, ${i})`)}if(e.keepProportions){let n=a(e.scale);n!==""&&n!==void 0&&n!==null&&n!=1&&t.push(`scale(${n})`)}else{let n=a(e.scaleX),i=a(e.scaleY),h=n!==""&&n!==void 0&&n!==null?n:1,d=i!==""&&i!==void 0&&i!==null?i:1;(h!=1||d!=1)&&t.push(`scale(${h}, ${d})`)}let b=a(e.skewX);b!==""&&b!==void 0&&b!==null&&t.push(`skewX(${b}deg)`);let v=a(e.skewY);return v!==""&&v!==void 0&&v!==null&&t.push(`skewY(${v}deg)`),e.flipHorizontal&&t.push("scaleX(-1)"),e.flipVertical&&t.push("scaleY(-1)"),t.length>0?t.join(" "):""},J=()=>{let e=window.digi.responsiveState.activeDevice,s=q(y,N),t="";if(S&&S!=="default"){t+=`position: ${S} !important;`;let f=B?.[e]?.value,w=B?.[e]?.unit||"px";f!==""&&f!==void 0&&(I==="left"?t+=`left: ${f}${w};`:t+=`right: ${f}${w};`);let b=H?.[e]?.value,v=H?.[e]?.unit||"px";b!==""&&b!==void 0&&(L==="top"?t+=`top: ${b}${v};`:t+=`bottom: ${b}${v};`)}_!==""&&_!==void 0&&_!==null&&(t+=`z-index: ${_};`);let a="",p=z(X,e);p&&(a+=`transform: ${p};`,a+=`transform-origin: ${D(X,e)};`);let u=z(g,e);if(u&&g&&g.transitionDuration!==""&&g.transitionDuration!==void 0&&g.transitionDuration!==null){let f=g.transitionDuration;a+=`transition: transform ${f}ms ease;`}let m="";return u&&(m+=`transform: ${u};`,m+=`transform-origin: ${D(g,e)};`),`
            /* Spacer Block Styles */
            .${c} {
                height: ${s};
                position: relative;
                ${t}
				${a}
            }

            .${c}:hover {
				${m}
            }
            
            /* Editor-only styles */
            .editor-styles-wrapper .${c} .digiblocks-spacer-icon-wrapper {
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: #e4e4e4;
                height: 100%;
                border-radius: 4px;
                pointer-events: none;
            }
            
            .editor-styles-wrapper .${c} .digiblocks-spacer-icon-wrapper svg {
                width: 1em;
				min-width: 1.5rem;
                height: 100%;
                fill: #949494;
            }

			/* Visibility Controls */
			${r.desktop?`
				@media (min-width: 992px) {
					.${c} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${r.tablet?`
				@media (min-width: 768px) and (max-width: 991px) {
					.${c} {
						opacity: 0.5 !important;
					}
				}
			`:""}

			${r.mobile?`
				@media (max-width: 767px) {
					.${c} {
						opacity: 0.5 !important;
					}
				}
			`:""}
        `},K=()=>{switch(Y){case"options":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("div",{className:"components-panel__body is-opened"},wp.element.createElement(te,{label:o("Height","digiblocks"),value:y,onChange:e=>l({height:e}),units:[{label:"px",value:"px"},{label:"em",value:"em"},{label:"rem",value:"rem"},{label:"vh",value:"vh"}],defaultValues:{desktop:{value:80,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}},min:0,max:U(y?.[N]?.unit||"px"),step:G(y?.[N]?.unit||"px")})));case"advanced":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(ie,{tab:"advanced",name:"visibility",title:o("Visibility","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control__help",style:{padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3ddfd",borderRadius:"4px",marginBottom:"16px"}},wp.element.createElement("strong",null,o("Editor Note:","digiblocks")),wp.element.createElement("br",null),o("Hidden elements appear with reduced opacity in the editor for easy editing. Visibility changes only take effect on the frontend.","digiblocks")),wp.element.createElement(V,{label:o("Hide on Desktop","digiblocks"),checked:r.desktop,onChange:e=>l({visibility:{...r,desktop:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(V,{label:o("Hide on Tablet","digiblocks"),checked:r.tablet,onChange:e=>l({visibility:{...r,tablet:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(V,{label:o("Hide on Mobile","digiblocks"),checked:r.mobile,onChange:e=>l({visibility:{...r,mobile:e}}),__nextHasNoMarginBottom:!0})),wp.element.createElement("div",{className:"components-panel__body is-opened"},wp.element.createElement("div",{className:"components-base-control html-anchor-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"html-anchor"},o("HTML anchor","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"html-anchor",value:C||"",onChange:e=>l({anchor:e.target.value}),"aria-describedby":"html-anchor-help",autoCapitalize:"none",autoComplete:"off"})),wp.element.createElement("p",{id:"html-anchor-help",className:"components-base-control__help"},o(`Enter a word or two \u2014 without spaces \u2014 to make a unique web address just for this block, called an "anchor". Then, you'll be able to link directly to this section of your page.`,"digiblocks")," ",wp.element.createElement("a",{className:"components-external-link",href:"https://wordpress.org/documentation/article/page-jumps/",target:"_blank",rel:"external noreferrer noopener"},wp.element.createElement("span",{className:"components-external-link__contents"},o("Learn more about anchors","digiblocks")),wp.element.createElement("span",{className:"components-external-link__icon","aria-label":"(opens in a new tab)"},"\u2197")))),wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"additional-css-classes"},o("Additional CSS class(es)","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"additional-css-classes",value:x||"",onChange:e=>l({customClasses:e.target.value}),"aria-describedby":"additional-css-classes-help",autoComplete:"off"})),wp.element.createElement("p",{id:"additional-css-classes-help",className:"components-base-control__help"},o("Separate multiple classes with spaces.","digiblocks")))));default:return null}},Q=W({className:`digiblocks-spacer ${c} ${x||""}`,id:C||null});return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Z,null,wp.element.createElement(ne,{tabs:F,activeTab:Y,onSelect:e=>{requestAnimationFrame(()=>{A(e)})}},K())),wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:J()}}),wp.element.createElement("div",{...Q},wp.element.createElement("div",{className:"digiblocks-spacer-icon-wrapper"},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},wp.element.createElement("path",{d:"M512 464c0-8.8-7.2-16-16-16L16 448c-8.8 0-16 7.2-16 16s7.2 16 16 16l480 0c8.8 0 16-7.2 16-16zM144 320c-8.8 0-16-7.2-16-16l0-96c0-8.8 7.2-16 16-16l224 0c8.8 0 16 7.2 16 16l0 96c0 8.8-7.2 16-16 16l-224 0zm224 32c26.5 0 48-21.5 48-48l0-96c0-26.5-21.5-48-48-48l-224 0c-26.5 0-48 21.5-48 48l0 96c0 26.5 21.5 48 48 48l224 0zM496 64c8.8 0 16-7.2 16-16s-7.2-16-16-16L16 32C7.2 32 0 39.2 0 48s7.2 16 16 16l480 0z"})))))},O=se;var{useBlockProps:ae}=window.wp.blockEditor,oe=({attributes:k})=>{let{id:l,anchor:$,customClasses:c,height:C}=k,r=["digiblocks-spacer",l,c||""].filter(Boolean).join(" "),x=ae.save({className:r,id:$||null});return wp.element.createElement("div",{...x})},P=oe;var{__:T}=window.wp.i18n,{registerBlockType:le}=window.wp.blocks;le("digiblocks/spacer",{apiVersion:2,title:digiBlocksData.blocks.spacer.title,category:"digiblocks",icon:{src:()=>{let{viewbox:k,path:l}=digiBlocksData.blocks.spacer.icon;return wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k}`,className:"digiblocks-editor-icons"},wp.element.createElement("path",{d:l}))}},description:digiBlocksData.blocks.spacer.description,keywords:[T("spacer","digiblocks"),T("gap","digiblocks"),T("spacing","digiblocks")],supports:{html:!1,className:!1,customClassName:!1,anchor:!1},attributes:{id:{type:"string",default:""},anchor:{type:"string",default:""},visibility:{type:"object",default:{desktop:!1,tablet:!1,mobile:!1}},customClasses:{type:"string",default:""},height:{type:"object",default:{desktop:{value:80,unit:"px"},tablet:{value:"",unit:""},mobile:{value:"",unit:""}}}},example:{attributes:{height:{desktop:{value:80,unit:"px"}}}},edit:O,save:P});})();
