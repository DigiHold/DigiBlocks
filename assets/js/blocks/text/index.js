(()=>{var{__:o}=window.wp.i18n,{useBlockProps:_e,RichText:Te,InspectorControls:Be,PanelColorSettings:F}=window.wp.blockEditor,{SelectControl:H,ToggleControl:j,Button:He,__experimentalToggleGroupControl:Ne,__experimentalToggleGroupControlOption:le}=window.wp.components,{useState:ie,useEffect:ae,useRef:De}=window.wp.element,{useBlockId:ze,getDimensionCSS:N,animations:Y,animationPreview:ne}=digi.utils,{tabIcons:q}=digi.icons,{ResponsiveControl:D,ResponsiveRangeControl:Pe,DimensionControl:z,TypographyControl:Oe,BoxShadowControl:Re,CustomTabPanel:Me,TabPanelBody:u,ResponsiveButtonGroup:Ee}=digi.components,We=({attributes:v,setAttributes:t,clientId:w})=>{let{id:a,anchor:k,visibility:n,customClasses:$,content:P,align:_,htmlTag:c,maxWidth:m,textColor:J,textHoverColor:O,backgroundColor:R,backgroundHoverColor:M,typography:i,padding:E,margin:W,animation:g,boxShadow:d,boxShadowHover:b,borderStyle:r,borderWidth:x,borderRadius:G,borderColor:K,borderHoverColor:U,backgroundGradient:V,textShadow:f,hoverEffect:y}=v;ze(a,w,t);let T=(e,l)=>!e||typeof e!="object"?null:l==="mobile"?e.mobile!==""&&e.mobile!==void 0&&e.mobile!==null?e.mobile:e.tablet!==""&&e.tablet!==void 0&&e.tablet!==null?e.tablet:e.desktop:l==="tablet"&&e.tablet!==""&&e.tablet!==void 0&&e.tablet!==null?e.tablet:e.desktop,[s,ce]=ie(window.digi.responsiveState.activeDevice);ae(()=>window.digi.responsiveState.subscribe(l=>{ce(l)}),[]);let[Q,de]=ie(()=>{if(window.digi.uiState){let e=window.digi.uiState.getActiveTab(w);if(e)return e}return"options"}),X=De(null);ae(()=>{if(g&&g!=="none"){let e=setTimeout(()=>{ne(a,g,Y,X)},100);return()=>clearTimeout(e)}},[g]);let be=()=>{ne(a,g,Y,X)},pe=[{label:o("Paragraph","digiblocks"),value:"p"},{label:o("Span","digiblocks"),value:"span"},{label:o("Div","digiblocks"),value:"div"}],ge=[{label:o("Default","digiblocks"),value:"default"},{label:o("None","digiblocks"),value:"none"},{label:o("Solid","digiblocks"),value:"solid"},{label:o("Dotted","digiblocks"),value:"dotted"},{label:o("Dashed","digiblocks"),value:"dashed"},{label:o("Double","digiblocks"),value:"double"},{label:o("Groove","digiblocks"),value:"groove"},{label:o("Inset","digiblocks"),value:"inset"},{label:o("Outset","digiblocks"),value:"outset"},{label:o("Ridge","digiblocks"),value:"ridge"}],ue=[{label:o("None","digiblocks"),value:"none"},{label:o("Lift","digiblocks"),value:"lift"},{label:o("Scale","digiblocks"),value:"scale"},{label:o("Glow","digiblocks"),value:"glow"},{label:o("Bounce","digiblocks"),value:"bounce"}],me=[{label:o("None","digiblocks"),value:"none"},...Object.keys(Y).map(e=>({label:e.replace(/-/g," ").replace(/\b\w/g,l=>l.toUpperCase()),value:e}))],fe=[{name:"options",title:o("Options","digiblocks"),icon:q.optionsIcon},{name:"style",title:o("Style","digiblocks"),icon:q.styleIcon},{name:"advanced",title:o("Advanced","digiblocks"),icon:q.advancedIcon}],Le=[{name:"normal",title:o("Normal","digiblocks"),className:"digiblocks-tab-1 normal"},{name:"hover",title:o("Hover","digiblocks"),className:"digiblocks-tab-2 hover"}],he=e=>{switch(e){case"%":return 100;case"em":case"rem":return 50;case"px":default:return 1500}},ve=e=>{switch(e){case"%":return 1;case"em":case"rem":return .1;case"px":default:return 1}},ke=()=>{let e=window.digi.responsiveState.activeDevice,l="",B=T(_,e);B==="left"?l="text-align: left;":B==="center"?l="text-align: center;":B==="right"?l="text-align: right;":B==="justify"&&(l="text-align: justify;");let Se=N(G,"border-radius",e),I="";r&&r!=="default"&&r!=="none"?I=`
                border-style: ${r};
                border-color: ${K||"#e0e0e0"};
                ${N(x,"border-width",e)}
            `:I="border-style: none;";let Z="box-shadow: none;";d&&d.enable&&(Z=`box-shadow: ${d.position==="inset"?"inset ":""}${d.horizontal}px ${d.vertical}px ${d.blur}px ${d.spread}px ${d.color};`);let A="";f&&f.enable&&(A=`text-shadow: ${f.horizontal}px ${f.vertical}px ${f.blur}px ${f.color};`);let we=`${N(E,"padding",e)}`,$e=`${N(W,"margin",e)}`,ee="";m&&(ee=`max-width: ${m[e].value}${m[e].unit};margin-left: auto;margin-right: auto;`);let p="";if(i){i.fontFamily&&(p+=`font-family: ${i.fontFamily};`);let C=T(i.fontSize,e);C&&(p+=`font-size: ${C}${i.fontSizeUnit||"px"};`),i.fontWeight&&(p+=`font-weight: ${i.fontWeight};`),i.fontStyle&&(p+=`font-style: ${i.fontStyle};`),i.textTransform&&(p+=`text-transform: ${i.textTransform};`),i.textDecoration&&(p+=`text-decoration: ${i.textDecoration};`);let oe=T(i.lineHeight,e);oe&&(p+=`line-height: ${oe}${i.lineHeightUnit||"em"};`);let te=T(i.letterSpacing,e);te&&(p+=`letter-spacing: ${te}${i.letterSpacingUnit||"px"};`)}let L="";V&&V!=="none"?L=`background: ${V};`:R&&(L=`background-color: ${R};`);let h="";if(b&&b.enable){let C=b.position==="inset"?"inset ":"";h+=`box-shadow: ${C}${b.horizontal}px ${b.vertical}px ${b.blur}px ${b.spread}px ${b.color};`}return y==="lift"?h+="transform: translateY(-5px);":y==="scale"?h+="transform: scale(1.02);":y==="glow"?h+="filter: brightness(1.1);":y==="bounce"&&(h+="transform: translateY(-3px); transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);"),`
            /* Main text block styles */
            .${a} {
                transition: all 0.3s ease;
            }

            .${a} ${c} {
                ${l}
                color: ${J||"inherit"};
                ${L}
                ${Z}
                ${A}
                ${we}
                ${$e}
                ${I}
                ${Se}
                ${ee}
                ${p}
                transition: all 0.3s ease;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
            
            /* Hover effects */
            .${a}:hover ${c} {
                ${O?`color: ${O};`:""}
                ${M?`background-color: ${M};`:""}
                ${U?`border-color: ${U};`:""}
                ${h}
            }

            /* Visibility Controls */
            ${n.desktop?`
                @media (min-width: 992px) {
                    .${a} ${c} {
                        opacity: 0.5 !important;
                    }
                }
            `:""}

            ${n.tablet?`
                @media (min-width: 768px) and (max-width: 991px) {
                    .${a} ${c} {
                        opacity: 0.5 !important;
                    }
                }
            `:""}

            ${n.mobile?`
                @media (max-width: 767px) {
                    .${a} ${c} {
                        opacity: 0.5 !important;
                    }
                }
            `:""}
        `},xe=e=>e==="normal"?wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(F,{title:o("Color Settings","digiblocks"),initialOpen:!0,enableAlpha:!0,colorSettings:[{value:J,onChange:l=>t({textColor:l}),label:o("Text Color","digiblocks")},{value:R,onChange:l=>t({backgroundColor:l}),label:o("Background Color","digiblocks")}]})):e==="hover"?wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(F,{title:o("Hover Color Settings","digiblocks"),initialOpen:!0,enableAlpha:!0,colorSettings:[{value:O,onChange:l=>t({textHoverColor:l}),label:o("Text Color","digiblocks")},{value:M,onChange:l=>t({backgroundHoverColor:l}),label:o("Background Color","digiblocks")},{value:U,onChange:l=>t({borderHoverColor:l}),label:o("Border Color","digiblocks")}]})):null,ye=()=>{switch(Q){case"options":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("div",{className:"components-panel__body is-opened"},wp.element.createElement(H,{label:o("HTML Tag","digiblocks"),value:c,options:pe,onChange:e=>t({htmlTag:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),wp.element.createElement(Ee,{label:o("Text Alignment","digiblocks"),value:_,onChange:e=>t({align:e}),options:[{label:o("Left","digiblocks"),value:"left"},{label:o("Center","digiblocks"),value:"center"},{label:o("Right","digiblocks"),value:"right"},{label:o("Justify","digiblocks"),value:"justify"}]}),wp.element.createElement(Pe,{label:o("Max Width","digiblocks"),value:m,onChange:e=>t({maxWidth:e}),units:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"em",value:"em"},{label:"rem",value:"rem"}],defaultUnit:"px",min:0,max:he(m?.[s]?.unit),step:ve(m?.[s]?.unit)})));case"style":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(u,{tab:"style",name:"colors",title:o("Colors","digiblocks"),initialOpen:!0},wp.element.createElement(Ne,{label:o("State","digiblocks"),value:"normal",isBlock:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},wp.element.createElement(le,{value:"normal",label:o("Normal","digiblocks")}),wp.element.createElement(le,{value:"hover",label:o("Hover","digiblocks")})),xe("normal")),wp.element.createElement(u,{tab:"style",name:"typo",title:o("Typography","digiblocks"),initialOpen:!1},wp.element.createElement(Oe,{label:o("Typography","digiblocks"),value:i,onChange:e=>t({typography:e}),defaults:{fontSize:{desktop:"",tablet:"",mobile:""},fontSizeUnit:"px",lineHeight:{desktop:"",tablet:"",mobile:""},lineHeightUnit:"em"}})),wp.element.createElement(u,{tab:"style",name:"border",title:o("Border","digiblocks"),initialOpen:!1},wp.element.createElement(H,{label:o("Border Style","digiblocks"),value:r||"default",options:ge,onChange:e=>{e!=="default"&&e!=="none"&&(r==="default"||r==="none"||!r)&&(!x||Object.keys(x).length===0)&&t({borderWidth:{desktop:{top:1,right:1,bottom:1,left:1,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}}),t({borderStyle:e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),r&&r!=="default"&&r!=="none"&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(F,{title:o("Border Color","digiblocks"),enableAlpha:!0,colorSettings:[{value:K,onChange:e=>t({borderColor:e}),label:o("Border Color","digiblocks")}]}),wp.element.createElement(D,{label:o("Border Width","digiblocks")},wp.element.createElement(z,{values:x[s],onChange:e=>t({borderWidth:{...x,[s]:e}})}))),wp.element.createElement(D,{label:o("Border Radius","digiblocks")},wp.element.createElement(z,{values:G[s],onChange:e=>t({borderRadius:{...G,[s]:e}}),units:[{label:"px",value:"px"},{label:"%",value:"%"}]})),wp.element.createElement(H,{label:o("Hover Effect","digiblocks"),value:y,options:ue,onChange:e=>t({hoverEffect:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),wp.element.createElement(u,{tab:"style",name:"shadow",title:o("Shadows","digiblocks"),initialOpen:!1},wp.element.createElement(Re,{normalValue:d,hoverValue:b,onNormalChange:e=>t({boxShadow:e}),onHoverChange:e=>t({boxShadowHover:e})})),wp.element.createElement(u,{tab:"style",name:"spacing",title:o("Spacing","digiblocks"),initialOpen:!1},wp.element.createElement(D,{label:o("Padding","digiblocks")},wp.element.createElement(z,{values:E[s],onChange:e=>t({padding:{...E,[s]:e}})})),wp.element.createElement(D,{label:o("Margin","digiblocks")},wp.element.createElement(z,{values:W[s],onChange:e=>t({margin:{...W,[s]:e}})}))));case"advanced":return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(u,{tab:"advanced",name:"animation",title:o("Animation","digiblocks"),initialOpen:!0},wp.element.createElement(H,{label:o("Animation Effect","digiblocks"),value:g,options:me,onChange:e=>t({animation:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),g&&g!=="none"&&wp.element.createElement("div",{style:{marginTop:"10px"}},wp.element.createElement(He,{variant:"secondary",isSecondary:!0,onClick:be,style:{width:"100%"}},o("Preview Animation","digiblocks")))),wp.element.createElement(u,{tab:"advanced",name:"visibility",title:o("Visibility","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control__help",style:{padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3ddfd",borderRadius:"4px",marginBottom:"16px"}},wp.element.createElement("strong",null,o("Editor Note:","digiblocks")),wp.element.createElement("br",null),o("Hidden elements appear with reduced opacity in the editor for easy editing. Visibility changes only take effect on the frontend.","digiblocks")),wp.element.createElement(j,{label:o("Hide on Desktop","digiblocks"),checked:n.desktop,onChange:e=>t({visibility:{...n,desktop:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(j,{label:o("Hide on Tablet","digiblocks"),checked:n.tablet,onChange:e=>t({visibility:{...n,tablet:e}}),__nextHasNoMarginBottom:!0}),wp.element.createElement(j,{label:o("Hide on Mobile","digiblocks"),checked:n.mobile,onChange:e=>t({visibility:{...n,mobile:e}}),__nextHasNoMarginBottom:!0})),wp.element.createElement(u,{tab:"advanced",name:"additional",title:o("Additional","digiblocks"),initialOpen:!1},wp.element.createElement("div",{className:"components-base-control html-anchor-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"html-anchor"},o("HTML anchor","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"html-anchor",value:k||"",onChange:e=>t({anchor:e.target.value}),"aria-describedby":"html-anchor-help",autoCapitalize:"none",autoComplete:"off"})),wp.element.createElement("p",{id:"html-anchor-help",className:"components-base-control__help"},o(`Enter a word or two \u2014 without spaces \u2014 to make a unique web address just for this block, called an "anchor". Then, you'll be able to link directly to this section of your page.`,"digiblocks")," ",wp.element.createElement("a",{className:"components-external-link",href:"https://wordpress.org/documentation/article/page-jumps/",target:"_blank",rel:"external noreferrer noopener"},wp.element.createElement("span",{className:"components-external-link__contents"},o("Learn more about anchors","digiblocks")),wp.element.createElement("span",{className:"components-external-link__icon","aria-label":"(opens in a new tab)"},"\u2197")))),wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{className:"components-base-control__label",htmlFor:"additional-css-classes"},o("Additional CSS class(es)","digiblocks")),wp.element.createElement("input",{className:"components-text-control__input",type:"text",id:"additional-css-classes",value:$||"",onChange:e=>t({customClasses:e.target.value}),"aria-describedby":"additional-css-classes-help",autoComplete:"off"})),wp.element.createElement("p",{id:"additional-css-classes-help",className:"components-base-control__help"},o("Separate multiple classes with spaces.","digiblocks")))));default:return null}},Ce=_e({className:`digiblocks-text ${a} ${$||""}`,id:k||null});return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Be,null,wp.element.createElement(Me,{tabs:fe,activeTab:Q,onSelect:de},ye())),wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:ke()}}),wp.element.createElement("div",{...Ce},wp.element.createElement(Te,{tagName:c,value:P,onChange:e=>t({content:e}),placeholder:o("Start writing your content","digiblocks"),allowedFormats:["core/bold","core/italic","core/link","core/strikethrough","core/underline","core/text-color","core/code","core/superscript","core/subscript"]})))},re=We;var{useBlockProps:Ge,RichText:Ue}=window.wp.blockEditor,Ve=({attributes:v})=>{let{id:t,htmlTag:w,content:a,animation:k,hoverEffect:n,anchor:$,customClasses:P}=v,_=["digiblocks-text",t,k!=="none"?`animate-${k}`:"",n!=="none"?`has-hover-${n}`:"",P||""].filter(Boolean).join(" "),c=Ge.save({className:_,id:$||null});return wp.element.createElement(Ue.Content,{...c,tagName:w,value:a})},se=Ve;var{__:S}=window.wp.i18n,{registerBlockType:Ie}=window.wp.blocks;Ie("digiblocks/text",{apiVersion:2,title:digiBlocksData.blocks.text.title,category:"digiblocks",icon:{src:()=>{let{viewbox:v,path:t}=digiBlocksData.blocks.text.icon;return wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v}`,className:"digiblocks-editor-icons"},wp.element.createElement("path",{d:t}))}},description:digiBlocksData.blocks.text.description,keywords:[S("text","digiblocks"),S("paragraph","digiblocks"),S("content","digiblocks")],supports:{html:!1,className:!1,customClassName:!1,anchor:!1},attributes:{id:{type:"string",default:""},anchor:{type:"string",default:""},visibility:{type:"object",default:{desktop:!1,tablet:!1,mobile:!1}},customClasses:{type:"string",default:""},content:{type:"string",default:S("This is a powerful text block with advanced styling options.","digiblocks")},htmlTag:{type:"string",default:"p"},align:{type:"object",default:{desktop:"left",tablet:"",mobile:""}},maxWidth:{type:"object",default:{desktop:{value:"",unit:"px"},tablet:{value:"",unit:"px"},mobile:{value:"",unit:"px"}}},textColor:{type:"string",default:""},textHoverColor:{type:"string",default:""},backgroundColor:{type:"string",default:""},backgroundHoverColor:{type:"string",default:""},backgroundGradient:{type:"string",default:"none"},typography:{type:"object",default:{fontFamily:"",fontSize:{desktop:"",tablet:"",mobile:""},fontSizeUnit:"px",fontWeight:"",fontStyle:"normal",textTransform:"",textDecoration:"",lineHeight:{desktop:"",tablet:"",mobile:""},lineHeightUnit:"em",letterSpacing:{desktop:"",tablet:"",mobile:""},letterSpacingUnit:"px"}},textShadow:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.3)",horizontal:0,vertical:0,blur:0}},padding:{type:"object",default:{desktop:{top:0,right:0,bottom:0,left:0,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},margin:{type:"object",default:{desktop:{top:0,right:0,bottom:16,left:0,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},animation:{type:"string",default:"none"},borderStyle:{type:"string",default:"default"},borderRadius:{type:"object",default:{desktop:{top:0,right:0,bottom:0,left:0,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderWidth:{type:"object",default:{desktop:{top:1,right:1,bottom:1,left:1,unit:"px"},tablet:{top:"",right:"",bottom:"",left:"",unit:"px"},mobile:{top:"",right:"",bottom:"",left:"",unit:"px"}}},borderColor:{type:"string",default:"#e0e0e0"},borderHoverColor:{type:"string",default:""},hoverEffect:{type:"string",default:"none"},boxShadow:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.2)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}},boxShadowHover:{type:"object",default:{enable:!1,color:"rgba(0, 0, 0, 0.2)",horizontal:0,vertical:0,blur:0,spread:0,position:"outset"}}},example:{attributes:{content:S("This is a powerful text block with advanced styling options. You can customize typography, colors, spacing, borders, shadows and add animations.","digiblocks"),textColor:"#2563eb",htmlTag:"h2"},viewportWidth:400},edit:re,save:se});})();
